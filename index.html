<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Buscador de Materiales</title>
</head>
<body>
    <h2>Buscador de Material</h2>

    <input type="text" id="codigo" placeholder="Ingrese material">
    <button onclick="buscar()">Buscar</button>

    <p id="resultado"></p>

    <script>
        let datos = [];

        // Cargar el CSV
        fetch("datos.csv")
        .then(response => response.text())
        .then(texto => {
            let filas = texto.split("\n");
            for (let i = 1; i < filas.length; i++) {
                let columnas = filas[i].split(",");
                if (columnas.length >= 3) {
                    datos.push({
                        material: columnas[0].trim(),
                        ubicacion: columnas[1].trim(),
                        texto: columnas[2].trim()
                    });
                }
            }
        });

        function buscar() {
            let codigo = document.getElementById("codigo").value.trim();
            let resultado = document.getElementById("resultado");

            let encontrado = datos.find(item => item.material === codigo);

            if (encontrado) {
                resultado.innerHTML =
                    "<b>Material:</b> " + encontrado.material + "<br>" +
                    "<b>Ubicación:</b> " + encontrado.ubicacion + "<br>" +
                    "<b>Descripción:</b> " + encontrado.texto;
            } else {
                resultado.innerHTML = "Material no encontrado";
            }
        }
    </script>
</body>
</html>
